const validationPatterns=[{type:"email",pattern:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))/},{type:"phone",pattern:/^\d\d\d\d\d\d\d\d\d$/},{type:"text",pattern:/^[a-zA-ZàáâäãåąčćęèéêëėįìíîïłńòóôöõøùúûüųūÿýżźñçčšžÀÁÂÄÃÅĄĆČĖĘÈÉÊËÌÍÎÏĮŁŃÒÓÔÖÕØÙÚÛÜŲŪŸÝŻŹÑßÇŒÆČŠŽ∂ð ,.'-]+$/},{type:"nip",pattern:/^\d\d\d\d\d\d\d\d\d\d$/},{type:"url",pattern:/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/}],omittedAtributes=["method","name","id","class","aria-label","fs-formsubmit-element"],url="https://www.shoper.pl/ajax.php";function createEnterKeydownHandler(t,e){return function(n){"Enter"===n.key&&(n.preventDefault(),t.blur(),e.click())}}function validateInput(t){const e=t.getAttribute("data-form"),n=t.value,a=t.required,r=t.getAttribute("data-type");if(error=a&&""===n?`${e} - jest wymagane`:null,!error&&""!==n&&a){const t=validationPatterns.find((t=>t.type===r))?.pattern;t&&!t.test(n)&&(error=`${e} nie jest wypełnione prawidłowo`)}return a&&""===n?($(t).next().next().toggleClass("show",!0),$(t).next().toggleClass("show",!1),$(t).addClass("error")):($(t).next().next().toggleClass("show",!1),$(t).next().toggleClass("show",null!==error),$(t).toggleClass("error",null!==error)),error}function handleBlur(t){validateInput(t.target)}function validateForm(t){const e=t.querySelectorAll("input");let n=0;return e.forEach((t=>{validateInput(t)&&n++})),n}function sendFormDataToURL(t,e,n){const a=new FormData,r=e.attributes;for(let t=0;t<r.length;t++){const e=r[t].name.replace("data-",""),n=r[t].value;""===n||omittedAtributes.includes(e)||a.append(e,n)}const o=e.querySelectorAll("input, textarea");let l=[],s=[];o.forEach((t=>{let e=t.value;const n=t.getAttribute("data-form");"checkbox"===t.type?(e=t.nextElementSibling.textContent.replace(/[^\u0000-\u007F\u0100-\u017F]+/g,"").trim(),"country"===n&&t.checked?l.push(e):"marketplace"===n&&t.checked&&s.push(e)):""!==e&&a.append(n,e)})),l.length>0&&a.append("country",l),s.length>0&&a.append("marketplace",s),$.ajax({type:"POST",url:t,data:a,processData:!1,contentType:!1,success:function(){$(n).parent().hide(),$(n).parent().next().show()},error:function(){$(n).siblings(".error-message").show()}})}function handleSubmitClick(t){t.preventDefault();const e=this,n=this.closest("form");0===validateForm(n)&&sendFormDataToURL(urlN,n,e)}function trackFormSubmit(t,e,n){$(document).ajaxComplete((function(a){const r=$(t)[0],o={eventLabel:window.location.href,eventType:r.getAttribute("data-app")};200===a.status?Object.assign(o,e,{eventAction:"submitSuccess"}):Object.assign(o,n,{eventAction:"submitError"}),window.dataLayer.push(o),console.log(window.dataLayer)}))}document.querySelectorAll("input").forEach((t=>{const e=t.closest("form").querySelector("[data-form='submit']");t.addEventListener("blur",handleBlur),t.addEventListener("keydown",createEnterKeydownHandler(t,e))})),$("[data-form='submit']").click(handleSubmitClick),$("[data-app^='open_']").on("click",(function(){const t=$(this).data("app").replace(/^open_|_modal_button$/g,"");$(`[data-app='${t}']`).addClass("modal--open"),$(document.body).toggleClass("overflow-hidden",!0)})),trackFormSubmit("[data-app='consult']",{event:"event1-onsuccess",eventCategory:"category1"},{event:"event2-onerror",eventCategory:"category2"});
//# sourceMappingURL=main.min.js.map
